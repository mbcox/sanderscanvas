<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/iron-collapse/iron-collapse.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../../styles/shared-styles.html">


<dom-module id="my-accordion-page">
    <template>                
        <style is="custom-style" include="shared-styles"></style>
        <style is="custom-style">
            :host {

                --paper-button-raised-keyboard-focus: {
                    font-weight: normal;
                };

                --paper-button-flat-keyboard-focus::after {
                    font-weight: normal;
                };

                --iron-icon-fill-color: #FF336C;
            }

            iron-collapse.nested-content {
                border-top: 0;
                border-left: 1px solid #070042;
                border-right: 1px solid #070042;
                border-bottom: 1px solid #070042;                             
            }

            .noTopBorder {
                border: 1px solid #070042;
                border-top: 0;
            }

            .collapse-content {
                padding: 15px;                       
                text-align:center;
                overflow-wrap: break-word;
            }    
            .drawerLink {
                text-decoration: none;
            }      

            .collapse-content ::content ul {
                text-align: left;
            }

            paper-button:not(.nested-content) {
                --paper-button: {
                    border-radius: 0;
                    color: #070042;
                    font-family: FreightSansWeb;
                    font-weight: bold;
                    font-size: 14pt;
                    text-transform: inherit;   
                    @apply(--layout-vertical); 
                    @apply(--layout-center-center);
                    margin: 0;     
                    padding: 35px 16px 35px 40px ;
                     border: 0;                 
                };
            }

            paper-button.nested-content {
                --paper-button: {
                    border: 1px solid #070042;
                    border-radius: 0;
                    color: #070042;
                    font-family: FreightSansWeb;
                    font-weight: bold;
                    font-size: 14pt;
                    text-transform: inherit;   
                    @apply(--layout-vertical); 
                    @apply(--layout-center-center);
                    margin: 0;     
                    padding: 35px 16px 35px 40px ;
                };                
            }            

            .test {
                /*background: transparent;*/
                /*background: #57CCFA; */ /* C2F2FA; */
            }
        </style>
        <div class$="{{getBackgroundCss(key, nested)}}" name="{{key}}">
            <template is="dom-if" if="{{isLink(linkUrl)}}">
                <a class="drawerLink" href="{{linkUrl}}" target="_blank">
                    <paper-button class$="{{getBorderCss(key, nested)}}" center-center flat noink>
                        <span class="drawer-container">
                            <span>{{title}}</span>
                            <iron-icon class="drawer-icon" icon="icons:open-in-browser"></iron-icon>
                        </span>
                    </paper-button>
                </a>                
            </template>
            <template is="dom-if" if="{{!isLink(linkUrl)}}" strip-whitespace>
                <paper-button id="drawer-button" center-center flat noink on-tap="toggle">
                    <span class="drawer-container">
                        <span>{{title}}</span>
                        <template is="dom-if" if="{{showDropDown('true', isOpened)}}">
                            <iron-icon class="drawer-icon" icon="icons:arrow-drop-down"></iron-icon>
                        </template>
                        <template is="dom-if" if="{{!showDropDown('true', isOpened)}}">
                            <iron-icon class="drawer-icon" icon="icons:arrow-drop-up"></iron-icon>
                        </template>
                    </span>
                </paper-button>                     
                <iron-collapse class="'collapse-content'" noAnimation id="panel" opened$="{{isOpened}}">
                    <div class="collapse-content"><content></content></div>
                </iron-collapse>
                <span test-attr$="{{getBorderCss(key, nested, isOpened)}}"></span>
            </template>            
        </div>
    </template>

    <script src="my-accordion-page.js"></script>
</dom-module>
